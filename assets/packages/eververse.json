{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "eververse",
    "displayName": "Eververse",
    "description": "AI-powered product management platform with Supabase backend - open-source alternative to Productboard",
    "category": "development-tools/feedback",
    "homepage": "https://github.com/haydenbleasel/eververse",
    "documentation": "https://github.com/haydenbleasel/eververse",
    "license": "Open Source",
    "maintainer": "Hayden Bleasel"
  },
  "spec": {
    "type": "container",
    "hasVariants": false,
    "container": {
      "provider": "docker-compose",
      "projectName": "portunix-eververse",
      "services": {
        "db": {
          "image": "supabase/postgres:15.1.0.147",
          "containerName": "eververse-db",
          "ports": ["5432:5432"],
          "environment": {
            "POSTGRES_PASSWORD": "${POSTGRES_PASSWORD}",
            "POSTGRES_DB": "postgres"
          },
          "volumes": [
            "eververse-db:/var/lib/postgresql/data"
          ],
          "healthcheck": {
            "test": ["CMD-SHELL", "pg_isready -U postgres"],
            "interval": "10s",
            "timeout": "5s",
            "retries": 5
          },
          "restart": "unless-stopped"
        },
        "kong": {
          "image": "kong:2.8.1",
          "containerName": "eververse-kong",
          "ports": ["8000:8000", "8443:8443"],
          "environment": {
            "KONG_DATABASE": "off",
            "KONG_DECLARATIVE_CONFIG": "/var/lib/kong/kong.yml",
            "KONG_DNS_ORDER": "LAST,A,CNAME",
            "KONG_PLUGINS": "request-transformer,cors,key-auth,acl"
          },
          "volumes": [
            "./volumes/kong/kong.yml:/var/lib/kong/kong.yml:ro"
          ],
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "auth": {
          "image": "supabase/gotrue:v2.99.0",
          "containerName": "eververse-auth",
          "environment": {
            "GOTRUE_API_HOST": "0.0.0.0",
            "GOTRUE_API_PORT": "9999",
            "API_EXTERNAL_URL": "${API_EXTERNAL_URL:-http://localhost:8000}",
            "GOTRUE_DB_DRIVER": "postgres",
            "GOTRUE_DB_DATABASE_URL": "postgres://postgres:${POSTGRES_PASSWORD}@db:5432/postgres?search_path=auth",
            "GOTRUE_SITE_URL": "${SITE_URL:-http://localhost:3000}",
            "GOTRUE_JWT_SECRET": "${JWT_SECRET}",
            "GOTRUE_JWT_EXP": "3600",
            "GOTRUE_DISABLE_SIGNUP": "false"
          },
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "rest": {
          "image": "postgrest/postgrest:v11.2.0",
          "containerName": "eververse-rest",
          "environment": {
            "PGRST_DB_URI": "postgres://postgres:${POSTGRES_PASSWORD}@db:5432/postgres",
            "PGRST_DB_SCHEMAS": "public,storage,graphql_public",
            "PGRST_DB_ANON_ROLE": "anon",
            "PGRST_JWT_SECRET": "${JWT_SECRET}"
          },
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "realtime": {
          "image": "supabase/realtime:v2.25.35",
          "containerName": "eververse-realtime",
          "environment": {
            "PORT": "4000",
            "DB_HOST": "db",
            "DB_PORT": "5432",
            "DB_USER": "postgres",
            "DB_PASSWORD": "${POSTGRES_PASSWORD}",
            "DB_NAME": "postgres",
            "DB_SSL": "false",
            "JWT_SECRET": "${JWT_SECRET}",
            "REPLICATION_MODE": "RLS",
            "SECURE_CHANNELS": "true"
          },
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "storage": {
          "image": "supabase/storage-api:v0.43.11",
          "containerName": "eververse-storage",
          "environment": {
            "ANON_KEY": "${ANON_KEY}",
            "SERVICE_KEY": "${SERVICE_KEY}",
            "POSTGREST_URL": "http://rest:3000",
            "PGRST_JWT_SECRET": "${JWT_SECRET}",
            "DATABASE_URL": "postgres://postgres:${POSTGRES_PASSWORD}@db:5432/postgres",
            "STORAGE_BACKEND": "file",
            "FILE_STORAGE_BACKEND_PATH": "/var/lib/storage",
            "TENANT_ID": "stub",
            "REGION": "stub",
            "GLOBAL_S3_BUCKET": "stub"
          },
          "volumes": [
            "eververse-storage:/var/lib/storage"
          ],
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            },
            "rest": {
              "condition": "service_started"
            }
          },
          "restart": "unless-stopped"
        },
        "imgproxy": {
          "image": "darthsim/imgproxy:v3.18",
          "containerName": "eververse-imgproxy",
          "environment": {
            "IMGPROXY_BIND": ":5001",
            "IMGPROXY_LOCAL_FILESYSTEM_ROOT": "/",
            "IMGPROXY_USE_ETAG": "true"
          },
          "restart": "unless-stopped"
        },
        "meta": {
          "image": "supabase/postgres-meta:v0.68.0",
          "containerName": "eververse-meta",
          "environment": {
            "PG_META_PORT": "8080",
            "PG_META_DB_HOST": "db",
            "PG_META_DB_PORT": "5432",
            "PG_META_DB_NAME": "postgres",
            "PG_META_DB_USER": "postgres",
            "PG_META_DB_PASSWORD": "${POSTGRES_PASSWORD}"
          },
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "functions": {
          "image": "supabase/edge-runtime:v1.22.4",
          "containerName": "eververse-functions",
          "environment": {
            "JWT_SECRET": "${JWT_SECRET}",
            "SUPABASE_URL": "http://kong:8000",
            "SUPABASE_ANON_KEY": "${ANON_KEY}",
            "SUPABASE_SERVICE_ROLE_KEY": "${SERVICE_KEY}",
            "SUPABASE_DB_URL": "postgresql://postgres:${POSTGRES_PASSWORD}@db:5432/postgres"
          },
          "volumes": [
            "./volumes/functions:/home/deno/functions:Z"
          ],
          "dependsOn": {
            "kong": {
              "condition": "service_started"
            }
          },
          "restart": "unless-stopped"
        },
        "analytics": {
          "image": "supabase/logflare:1.4.0",
          "containerName": "eververse-analytics",
          "environment": {
            "LOGFLARE_NODE_HOST": "127.0.0.1",
            "DB_USERNAME": "postgres",
            "DB_DATABASE": "postgres",
            "DB_HOSTNAME": "db",
            "DB_PORT": "5432",
            "DB_PASSWORD": "${POSTGRES_PASSWORD}",
            "DB_SCHEMA": "_analytics",
            "LOGFLARE_API_KEY": "${LOGFLARE_API_KEY}",
            "LOGFLARE_SINGLE_TENANT": "true",
            "LOGFLARE_SUPABASE_MODE": "true",
            "POSTGRES_BACKEND_URL": "postgresql://postgres:${POSTGRES_PASSWORD}@db:5432/postgres"
          },
          "dependsOn": {
            "db": {
              "condition": "service_healthy"
            }
          },
          "restart": "unless-stopped"
        },
        "studio": {
          "image": "supabase/studio:20231123-64a766a",
          "containerName": "eververse-studio",
          "ports": ["3001:3000"],
          "environment": {
            "STUDIO_PG_META_URL": "http://meta:8080",
            "POSTGRES_PASSWORD": "${POSTGRES_PASSWORD}",
            "DEFAULT_ORGANIZATION_NAME": "Eververse",
            "DEFAULT_PROJECT_NAME": "Eververse Local",
            "SUPABASE_URL": "http://kong:8000",
            "SUPABASE_PUBLIC_URL": "${API_EXTERNAL_URL:-http://localhost:8000}",
            "SUPABASE_ANON_KEY": "${ANON_KEY}",
            "SUPABASE_SERVICE_KEY": "${SERVICE_KEY}"
          },
          "dependsOn": {
            "kong": {
              "condition": "service_started"
            },
            "meta": {
              "condition": "service_started"
            }
          },
          "restart": "unless-stopped"
        },
        "eververse": {
          "image": "portunix/eververse:latest",
          "pullPolicy": "never",
          "containerName": "eververse-app",
          "ports": ["3000:3000"],
          "environment": {
            "NODE_ENV": "production",
            "NEXT_PUBLIC_SUPABASE_URL": "http://kong:8000",
            "NEXT_PUBLIC_SUPABASE_ANON_KEY": "${ANON_KEY}",
            "SUPABASE_SERVICE_ROLE_KEY": "${SERVICE_KEY}",
            "DATABASE_URL": "postgres://postgres:${POSTGRES_PASSWORD}@db:5432/postgres",
            "NEXT_PUBLIC_DISABLE_ANALYTICS": "true",
            "STRIPE_SECRET_KEY": "${STRIPE_SECRET_KEY:-sk_test_dummy}",
            "STRIPE_WEBHOOK_SECRET": "${STRIPE_WEBHOOK_SECRET:-whsec_dummy}"
          },
          "dependsOn": {
            "kong": {
              "condition": "service_started"
            },
            "auth": {
              "condition": "service_started"
            },
            "rest": {
              "condition": "service_started"
            },
            "storage": {
              "condition": "service_started"
            }
          },
          "healthcheck": {
            "test": ["CMD", "curl", "-f", "http://localhost:3000/api/health"],
            "interval": "30s",
            "timeout": "10s",
            "retries": 3
          },
          "restart": "unless-stopped"
        }
      },
      "volumes": {
        "eververse-db": {},
        "eververse-storage": {}
      },
      "networks": {
        "default": {
          "name": "eververse-network"
        }
      }
    },
    "defaults": {
      "POSTGRES_PASSWORD": "auto-generate",
      "JWT_SECRET": "auto-generate",
      "ANON_KEY": "auto-generate",
      "SERVICE_KEY": "auto-generate",
      "LOGFLARE_API_KEY": "auto-generate",
      "SITE_URL": "http://localhost:3000",
      "API_EXTERNAL_URL": "http://localhost:8000"
    },
    "verification": {
      "type": "http",
      "url": "http://localhost:3000/api/health",
      "expectedStatus": 200,
      "timeout": 180
    },
    "sources": {
      "github": {
        "type": "github",
        "url": "https://github.com/haydenbleasel/eververse"
      }
    },
    "aiPrompts": {
      "versionDiscovery": "Eververse is a Next.js application with Supabase backend. Check GitHub releases for updates. Ensure Supabase service versions are compatible.",
      "updateGuidance": "Update requires rebuilding Eververse Docker image and potentially updating Supabase services. Test thoroughly before production updates."
    },
    "dependencies": [],
    "templates": ["docker-compose"],
    "resourceRequirements": {
      "minMemory": "6GB",
      "recommendedMemory": "8GB",
      "diskSpace": "10GB",
      "notes": "Eververse requires the full Supabase stack (12 containers). This is the most resource-intensive feedback tool option. Consider Fider (~200MB) or ClearFlask (~2GB) for lower resource environments."
    },
    "knownIssues": {
      "supabaseComplexity": {
        "severity": "info",
        "description": "Eververse requires the full Supabase self-hosted stack which includes 12 containers. Startup time is 60-120 seconds. Some Supabase features may require additional configuration.",
        "workaround": "Use Supabase Cloud with the Eververse container for a simpler setup, or use Fider/ClearFlask for simpler deployments."
      },
      "vercelFeatures": {
        "severity": "medium",
        "description": "Eververse may use some Vercel-specific features that don't work in self-hosted Docker environments.",
        "workaround": "Most features work in Docker. Edge functions and Vercel-specific analytics are disabled by default."
      },
      "stripeIntegration": {
        "severity": "low",
        "description": "Stripe integration requires valid API keys for billing features.",
        "workaround": "For local development, dummy Stripe keys are used. Configure real keys for production use."
      }
    },
    "comparison": {
      "vs_fider": {
        "fider_advantages": ["Simple (2 containers)", "Low memory (~200MB)", "Fast startup (~5s)"],
        "eververse_advantages": ["AI features", "Roadmap planning", "Canvas brainstorming", "Rich text editing"]
      },
      "vs_clearflask": {
        "clearflask_advantages": ["Multi-project", "Moderate resources (~2GB)"],
        "eververse_advantages": ["AI-powered", "Modern UI", "Excalidraw canvas", "Active development"]
      }
    }
  }
}
