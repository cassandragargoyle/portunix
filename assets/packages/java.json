{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "java",
    "displayName": "Java (OpenJDK)",
    "description": "Java Development Kit from Eclipse Adoptium",
    "category": "development/languages",
    "homepage": "https://adoptium.net/",
    "license": "GPL-2.0 with Classpath Exception",
    "maintainer": "Eclipse Adoptium"
  },
  "spec": {
    "hasVariants": true,
    "platforms": {
      "windows": {
        "type": "msi",
        "variants": {
          "8": {
            "version": "8u462b08",
            "urls": {
              "x64": "https://github.com/adoptium/temurin8-binaries/releases/download/jdk8u462-b08/OpenJDK8U-jdk_x64_windows_hotspot_8u462b08.msi",
              "x86": "https://github.com/adoptium/temurin8-binaries/releases/download/jdk8u462-b08/OpenJDK8U-jdk_x86_windows_hotspot_8u462b08.msi"
            },
            "installPath": "${ProgramFiles}/Eclipse Adoptium/jdk-8u462b08-hotspot"
          },
          "11": {
            "version": "11.0.28_6",
            "urls": {
              "x64": "https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.28%2B6/OpenJDK11U-jdk_x64_windows_hotspot_11.0.28_6.msi",
              "x86": "https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.28%2B6/OpenJDK11U-jdk_x86_windows_hotspot_11.0.28_6.msi"
            },
            "installPath": "${ProgramFiles}/Eclipse Adoptium/jdk-11.0.28.6-hotspot"
          },
          "17": {
            "version": "17.0.16_8",
            "urls": {
              "x64": "https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.16%2B8/OpenJDK17U-jdk_x64_windows_hotspot_17.0.16_8.msi",
              "x86": "https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.16%2B8/OpenJDK17U-jdk_x86_windows_hotspot_17.0.16_8.msi"
            },
            "installPath": "${ProgramFiles}/Eclipse Adoptium/jdk-17.0.16.8-hotspot"
          },
          "21": {
            "version": "21.0.8_9",
            "urls": {
              "x64": "https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.8%2B9/OpenJDK21U-jdk_x64_windows_hotspot_21.0.8_9.msi",
              "x86": "https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.8%2B9/OpenJDK21U-jdk_x86_windows_hotspot_21.0.8_9.msi"
            },
            "installPath": "${ProgramFiles}/Eclipse Adoptium/jdk-21.0.8.9-hotspot"
          }
        },
        "installArgs": ["ADDLOCAL=ALL", "/quiet"],
        "verification": {
          "command": "java -version",
          "expectedExitCode": 0
        },
        "environment": {
          "JAVA_HOME": "${install_path}",
          "PATH_APPEND": "${install_path}/bin"
        }
      },
      "linux": {
        "type": "tar.gz",
        "variants": {
          "8": {
            "version": "8u462b08",
            "urls": {
              "x64": "https://github.com/adoptium/temurin8-binaries/releases/download/jdk8u462-b08/OpenJDK8U-jdk_x64_linux_hotspot_8u462b08.tar.gz",
              "arm64": "https://github.com/adoptium/temurin8-binaries/releases/download/jdk8u462-b08/OpenJDK8U-jdk_aarch64_linux_hotspot_8u462b08.tar.gz"
            },
            "extractTo": "/opt/java/jdk-8u462b08",
            "postInstall": [
              "sudo update-alternatives --install /usr/bin/java java /opt/java/jdk-8u462b08/bin/java 1",
              "sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk-8u462b08/bin/javac 1"
            ]
          },
          "11": {
            "version": "11.0.28_6",
            "urls": {
              "x64": "https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.28%2B6/OpenJDK11U-jdk_x64_linux_hotspot_11.0.28_6.tar.gz",
              "arm64": "https://github.com/adoptium/temurin11-binaries/releases/download/jdk-11.0.28%2B6/OpenJDK11U-jdk_aarch64_linux_hotspot_11.0.28_6.tar.gz"
            },
            "extractTo": "/opt/java/jdk-11.0.28+6",
            "postInstall": [
              "sudo update-alternatives --install /usr/bin/java java /opt/java/jdk-11.0.28+6/bin/java 1",
              "sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk-11.0.28+6/bin/javac 1"
            ]
          },
          "17": {
            "version": "17.0.16_8",
            "urls": {
              "x64": "https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.16%2B8/OpenJDK17U-jdk_x64_linux_hotspot_17.0.16_8.tar.gz",
              "arm64": "https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.16%2B8/OpenJDK17U-jdk_aarch64_linux_hotspot_17.0.16_8.tar.gz"
            },
            "extractTo": "/opt/java/jdk-17.0.16+8",
            "postInstall": [
              "sudo update-alternatives --install /usr/bin/java java /opt/java/jdk-17.0.16+8/bin/java 1",
              "sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk-17.0.16+8/bin/javac 1"
            ]
          },
          "21": {
            "version": "21.0.8_9",
            "urls": {
              "x64": "https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.8%2B9/OpenJDK21U-jdk_x64_linux_hotspot_21.0.8_9.tar.gz",
              "arm64": "https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.8%2B9/OpenJDK21U-jdk_aarch64_linux_hotspot_21.0.8_9.tar.gz"
            },
            "extractTo": "/opt/java/jdk-21.0.8+9",
            "postInstall": [
              "sudo update-alternatives --install /usr/bin/java java /opt/java/jdk-21.0.8+9/bin/java 1",
              "sudo update-alternatives --install /usr/bin/javac javac /opt/java/jdk-21.0.8+9/bin/javac 1"
            ]
          }
        },
        "verification": {
          "command": "java -version",
          "expectedExitCode": 0
        },
        "environment": {
          "JAVA_HOME": "${extract_to}",
          "PATH_APPEND": "${extract_to}/bin"
        }
      }
    },
    "sources": {
      "adoptium-21": {
        "type": "github",
        "url": "https://adoptium.net/temurin/releases/",
        "apiEndpoint": "https://api.github.com/repos/adoptium/temurin21-binaries/releases/latest",
        "pattern": "jdk-{version}+{build}"
      },
      "adoptium-17": {
        "type": "github",
        "url": "https://github.com/adoptium/temurin17-binaries",
        "apiEndpoint": "https://api.github.com/repos/adoptium/temurin17-binaries/releases/latest",
        "pattern": "jdk-{version}+{build}"
      },
      "adoptium-11": {
        "type": "github",
        "url": "https://github.com/adoptium/temurin11-binaries",
        "apiEndpoint": "https://api.github.com/repos/adoptium/temurin11-binaries/releases/latest",
        "pattern": "jdk-{version}+{build}"
      },
      "adoptium-8": {
        "type": "github",
        "url": "https://github.com/adoptium/temurin8-binaries",
        "apiEndpoint": "https://api.github.com/repos/adoptium/temurin8-binaries/releases/latest",
        "pattern": "jdk8u{version}-b{build}"
      }
    },
    "verification": {
      "checksumType": "sha256",
      "checksumUrl": "https://github.com/adoptium/temurin{version}-binaries/releases/latest"
    },
    "aiPrompts": {
      "versionDiscovery": "Check GitHub API for latest releases in adoptium/temurin{8,11,17,21}-binaries repositories. Parse release tags to extract version numbers (format: jdk-X.Y.Z+W or jdk8uXXX-bYY). Verify download assets include both x64 and x86 MSI files for Windows, x64 and aarch64 tar.gz for Linux. Use GitHub API: https://api.github.com/repos/adoptium/temurinX-binaries/releases/latest",
      "urlResolution": "For Windows: OpenJDK{version}U-jdk_{arch}_windows_hotspot_{version}.msi. For Linux: OpenJDK{version}U-jdk_{arch}_linux_hotspot_{version}.tar.gz. Replace {version} with major version and {arch} with x64/x86/aarch64.",
      "updateGuidance": "Research available JDK versions from Eclipse Adoptium. Focus on LTS releases (8, 11, 17, 21). For each version, identify latest update release and verify installation paths follow Eclipse Adoptium conventions. Check release naming patterns: OpenJDK{version}U-jdk_{arch}_{os}_hotspot_{version}.{ext}"
    },
    "dependencies": [],
    "templates": ["msi-installer", "tar-archive"]
  }
}