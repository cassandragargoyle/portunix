{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "libvirt",
    "displayName": "Libvirt",
    "description": "Libvirt daemon for managing QEMU/KVM virtual machines",
    "category": "infrastructure/virtualization",
    "homepage": "https://libvirt.org/",
    "documentation": "https://libvirt.org/docs.html",
    "license": "LGPL-2.1",
    "maintainer": "Red Hat"
  },
  "spec": {
    "hasVariants": true,
    "platforms": {
      "linux": {
        "type": "apt",
        "variants": {
          "apt": {
            "version": "latest",
            "packages": ["libvirt-daemon-system", "libvirt-clients"],
            "postInstall": [
              "sudo systemctl enable libvirtd",
              "sudo systemctl start libvirtd"
            ]
          },
          "dnf": {
            "version": "latest",
            "packages": ["libvirt-daemon", "libvirt-client"],
            "postInstall": [
              "sudo systemctl enable libvirtd",
              "sudo systemctl start libvirtd"
            ]
          },
          "pacman": {
            "version": "latest",
            "packages": ["libvirt"],
            "postInstall": [
              "sudo systemctl enable libvirtd",
              "sudo systemctl start libvirtd"
            ]
          }
        },
        "verification": {
          "command": "virsh --version",
          "expectedExitCode": 0
        }
      }
    },
    "aiPrompts": {
      "versionDiscovery": "Check package repositories for libvirt versions.",
      "urlResolution": "Install via package managers (apt, dnf, pacman)",
      "updateGuidance": "Monitor libvirt releases for new features and security fixes. Essential virtualization library."
    },
    "dependencies": [],
    "templates": ["apt-package"]
  }
}
