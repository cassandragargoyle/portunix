{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "claude-code",
    "displayName": "Claude Code",
    "description": "Anthropic's official CLI for Claude AI assistant - code editing and development support",
    "category": "development/ai-tools",
    "homepage": "https://claude.ai/cli",
    "documentation": "https://docs.claude.com/en/docs/claude-code/",
    "license": "Proprietary",
    "maintainer": "Anthropic"
  },
  "spec": {
    "hasVariants": true,
    "platforms": {
      "windows": {
        "type": "script",
        "variants": {
          "npm": {
            "version": "latest",
            "installScript": "Write-Host 'Installing Claude Code via npm...'; npm install -g @anthropic-ai/claude-code; Write-Host 'Installation completed!'",
            "postInstall": [
              "claude --version"
            ]
          },
          "curl": {
            "version": "latest",
            "installScript": "iwr -useb https://claude.ai/cli/install.sh | iex",
            "postInstall": [
              "claude --version"
            ]
          }
        },
        "verification": {
          "command": "claude --version",
          "expectedExitCode": 0
        }
      },
      "linux": {
        "type": "script",
        "variants": {
          "npm": {
            "version": "latest",
            "installScript": "npm install -g @anthropic-ai/claude-code",
            "postInstall": [
              "claude --version"
            ]
          },
          "curl": {
            "version": "latest",
            "packages": ["curl"],
            "postInstall": [
              "curl -fsSL https://claude.ai/cli/install.sh | sh",
              "claude --version"
            ]
          }
        },
        "verification": {
          "command": "claude --version",
          "expectedExitCode": 0
        }
      }
    },
    "sources": {
      "npm": {
        "type": "npm",
        "url": "https://www.npmjs.com/package/@anthropic-ai/claude-code",
        "apiEndpoint": "https://registry.npmjs.org/@anthropic-ai/claude-code",
        "pattern": "@anthropic-ai/claude-code@{version}"
      },
      "official": {
        "type": "direct",
        "url": "https://claude.ai/cli",
        "apiEndpoint": "https://claude.ai/cli/install.sh",
        "pattern": "claude-code-{version}"
      }
    },
    "verification": {
      "checksumType": "sha256",
      "checksumUrl": "https://claude.ai/cli/"
    },
    "aiPrompts": {
      "versionDiscovery": "Check npm registry for @anthropic-ai/claude-code package versions using npm view @anthropic-ai/claude-code version. Verify official installation script at https://claude.ai/cli/install.sh and check documentation at https://docs.claude.com/en/docs/claude-code/ for latest version info.",
      "urlResolution": "For npm: @anthropic-ai/claude-code@{version}. For script: https://claude.ai/cli/install.sh",
      "updateGuidance": "Monitor Claude Code releases through npm registry and official Anthropic channels. Ensure Node.js prerequisite is satisfied for npm installation. Verify installation script sources and authentication requirements."
    },
    "dependencies": ["nodejs"],
    "templates": ["npm-package", "powershell-script"]
  }
}