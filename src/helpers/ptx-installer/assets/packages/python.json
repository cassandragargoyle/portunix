{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "python",
    "displayName": "Python",
    "description": "Python programming language",
    "category": "development/languages",
    "homepage": "https://www.python.org/",
    "documentation": "https://docs.python.org/",
    "license": "PSF-2.0",
    "maintainer": "Python Software Foundation"
  },
  "spec": {
    "hasVariants": true,
    "platforms": {
      "windows": {
        "type": "zip",
        "variants": {
          "embeddable": {
            "version": "3.13.6",
            "urls": {
              "x64": "https://www.python.org/ftp/python/3.13.6/python-3.13.6-embed-amd64.zip",
              "x86": "https://www.python.org/ftp/python/3.13.6/python-3.13.6-embed-win32.zip"
            },
            "extractTo": "C:/PortablePython",
            "extract": true,
            "postInstall": [
              "echo Configuring Python embeddable installation...",
              "echo import site >> C:/PortablePython/python313._pth",
              "curl -o C:/PortablePython/get-pip.py https://bootstrap.pypa.io/get-pip.py",
              "C:/PortablePython/python.exe C:/PortablePython/get-pip.py --force-reinstall"
            ]
          },
          "full": {
            "version": "3.13.6",
            "urls": {
              "x64": "https://www.python.org/ftp/python/3.13.6/python-3.13.6-amd64.exe",
              "x86": "https://www.python.org/ftp/python/3.13.6/python-3.13.6.exe"
            },
            "type": "exe",
            "installArgs": ["/quiet", "InstallAllUsers=1", "PrependPath=1", "Include_test=0"]
          }
        },
        "verification": {
          "command": "python --version",
          "expectedExitCode": 0
        },
        "environment": {
          "PATH_APPEND": "C:/PortablePython"
        }
      },
      "linux": {
        "type": "apt",
        "variants": {
          "apt": {
            "version": "latest",
            "packages": ["python3", "python3-pip", "python3-venv"],
            "distributions": ["ubuntu", "debian", "mint", "elementary"],
            "postInstall": [
              "${sudo_prefix}update-alternatives --install /usr/bin/python python /usr/bin/python3 1 || true"
            ]
          },
          "dnf": {
            "version": "latest",
            "type": "dnf",
            "packages": ["python3", "python3-pip"],
            "distributions": ["fedora", "rocky", "almalinux", "centos"],
            "postInstall": [
              "${sudo_prefix}alternatives --install /usr/bin/python python /usr/bin/python3 60 || true"
            ]
          },
          "pacman": {
            "version": "latest",
            "type": "pacman",
            "packages": ["python", "python-pip"],
            "postInstall": [
              "echo 'Python is available as python command on Arch Linux'"
            ]
          }
        },
        "verification": {
          "command": "python --version && pip --version",
          "expectedExitCode": 0
        }
      }
    },
    "sources": {
      "official": {
        "type": "direct",
        "url": "https://www.python.org/downloads/",
        "apiEndpoint": "https://www.python.org/downloads/source/",
        "pattern": "latest stable releases"
      }
    },
    "aiPrompts": {
      "versionDiscovery": "Check https://www.python.org/downloads/source/ for latest stable releases. Parse version numbers (format: X.Y.Z). For Windows, verify both x64 and x86 installers are available. Download URLs follow pattern: https://www.python.org/ftp/python/{version}/python-{version}-{arch}.exe for installers, python-{version}-embed-{arch}.zip for embeddable.",
      "urlResolution": "For Windows installers: https://www.python.org/ftp/python/{version}/python-{version}-amd64.exe. For embeddable: https://www.python.org/ftp/python/{version}/python-{version}-embed-amd64.zip",
      "updateGuidance": "Research Python installation variants: 'full' for system-wide installation with PATH updates, 'embeddable' for portable installations. Check availability of development packages on Linux (python3-dev, build-essential). Verify pip and venv package inclusion."
    }
  }
}