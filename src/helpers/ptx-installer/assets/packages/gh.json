{
  "apiVersion": "v1",
  "kind": "Package",
  "metadata": {
    "name": "gh",
    "displayName": "GitHub CLI",
    "description": "GitHub's official command line tool - manage repos, issues, PRs from the terminal",
    "category": "development/tools",
    "homepage": "https://cli.github.com/",
    "documentation": "https://cli.github.com/manual/",
    "license": "MIT",
    "maintainer": "GitHub"
  },
  "spec": {
    "hasVariants": true,
    "platforms": {
      "windows": {
        "type": "winget",
        "variants": {
          "latest": {
            "version": "latest",
            "packageId": "GitHub.cli",
            "installScript": "winget install GitHub.cli"
          }
        },
        "verification": {
          "command": "gh --version",
          "expectedExitCode": 0
        }
      },
      "linux": {
        "type": "apt",
        "variants": {
          "apt": {
            "type": "apt",
            "version": "latest",
            "repository": "deb [arch=amd64 signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main",
            "keyUrl": "https://cli.github.com/packages/githubcli-archive-keyring.gpg",
            "packages": ["gh"],
            "requiresSudo": true
          },
          "dnf": {
            "type": "dnf",
            "version": "latest",
            "repository": "https://cli.github.com/packages/rpm/gh-cli.repo",
            "packages": ["gh"]
          },
          "pacman": {
            "type": "pacman",
            "version": "latest",
            "packages": ["github-cli"]
          }
        },
        "verification": {
          "command": "gh --version",
          "expectedExitCode": 0
        }
      }
    },
    "sources": {
      "github": {
        "type": "github",
        "url": "https://github.com/cli/cli",
        "apiEndpoint": "https://api.github.com/repos/cli/cli/releases/latest",
        "pattern": "gh_{version}_{os}_{arch}"
      }
    },
    "verification": {
      "checksumType": "sha256",
      "checksumUrl": "https://github.com/cli/cli/releases/latest"
    },
    "aiPrompts": {
      "versionDiscovery": "Check GitHub API for latest releases at https://api.github.com/repos/cli/cli/releases/latest. Parse release tag to extract version number. Verify download assets include binaries for Windows, Linux, and macOS.",
      "urlResolution": "For binary releases: gh_{version}_{os}_{arch}.{ext} where os=windows/linux/darwin, arch=amd64/386/arm64, ext=zip/tar.gz",
      "updateGuidance": "Monitor GitHub CLI releases for new versions. GitHub CLI follows semantic versioning. Verify installation through package managers (winget, apt, dnf, brew) for latest versions."
    },
    "dependencies": [],
    "templates": ["winget-package", "apt-repository"]
  }
}